(function(){function a(g){var b,c;b=g instanceof d?g:new d(g,!1,new D(0),!1);this.read=function(b,c){this.readMessage(b,c)};this.write=function(z){z=u.convertStream(z);c=b.encode();z.write(c);this.writeMessage(z);this.addEmpty(z);return z};this.getLengthSize=function(){return 0};this.toBytes=function(){return this.write([]).getBytesArray()};this.setRetained=function(c){b.retain=c};this.isRetained=function(){return b.retain};this.setQos=function(c){b.qos=c};this.getQos=function(){return b.qos};this.setDup=   function(c){b.dup=c};this.isDup=function(){return b.dup};this.getType=function(){return b.type};this.messageLength=function(){return 0};this.writeMessage=function(b){};this.readMessage=function(b){};this.addEmpty=function(b){}}function d(g,b,c,z){this.type=null;this.retain=!1;this.qos=new D(1);this.dup=!1;g&&+g==g&&1==arguments.length?(this.retain=0<(g&1),this.qos=D.valueOf((g&6)>>1),this.dup=0<(g&8),this.type=C.valueOf(g>>4&15)):(this.type=g,this.retain=b,this.qos=c,this.dup=z);this.getType=function(){return this.type};   this.encode=function(){var b=this.type.currentValue()<<4,b=b|(this.retain?1:0),b=b|this.qos.currentValue()<<1;return b|=this.dup?8:0};this.toString=function(){return"Header [typ"+this.type.currentValue()+",retain="+this.retain+",qos="+this.qos.currentValue()+",dup="+this.dup+"]"}}function l(){var g="RCloud",b=3,c,z,m,e,f,d,p,k,G,h,l,H;switch(arguments.length){case 0:a.call(this,new C(1));break;case 1:a.call(this,arguments[0]);break;case 3:a.call(this,new C(1));if(!arguments[0]||64<arguments.length)throw Error("Client id cannot be null and must be at most 64 characters long: "+   arguments[0]);c=arguments[0];f=arguments[1];z=arguments[2]}this.messageLength=function(){var b=u.toMQttString(c).length,b=b+u.toMQttString(d).length,b=b+u.toMQttString(p).length,b=b+u.toMQttString(m).length,b=b+u.toMQttString(e).length;return b+12};this.readMessage=function(a){a=u.convertStream(a);g=a.readUTF();b=a.readByte();var A=a.readByte();h=0<(A&128);l=0<(A&64);G=0<(A&32);k=D.valueOf(A>>3&3).currentValue();H=0<(A&4);f=0<(A&32);z=256*a.read()+a.read();c=a.readUTF();H&&(d=a.readUTF(),p=a.readUTF());   if(h)try{m=a.readUTF()}catch(t){}if(l)try{e=a.readUTF()}catch(n){}return a};this.writeMessage=function(a){a=u.convertStream(a);a.writeUTF(g);a.write(b);var A=f?2:0,A=A|(H?4:0),A=A|(k?k>>3:0),A=A|(G?32:0),A=A|(l?64:0),A=A|(h?128:0);a.write(A);a.writeChar(z);a.writeUTF(c);H&&(a.writeUTF(d),a.writeUTF(p));h&&a.writeUTF(m);l&&a.writeUTF(e);return a};this.setCredentials=function(b,c){if(!b&&""==b&&c)throw Error("It is not valid to supply a token without supplying a appId.");m=b;e=c;h=null!=m;l=null!=e};   this.setWil=function(b,c,g,z){if((b?0^!c:1)||(c?0^!g:1))throw Error("Can't set willTopic, will or willQoS value independently");d=b;p=c;k=g;G=z;H=!!d};this.setDup=function(){throw Error("CONNECT messages don't use the DUP flag.");};this.setRetained=function(){throw Error("CONNECT messages don't use the RETAIN flag.");};this.setQos=function(){throw Error("CONNECT messages don't use the QoS flags.");};this.getProtocolId=function(){return g};this.getProtocolVersion=function(){return b};this.getClientId=    function(){return c};this.getKeepAlive=function(){return z};this.getappId=function(){return m};this.gettoken=function(){return e};this.isCleanSession=function(){return f};this.setWillTopic=function(b){d=b};this.getWillTopic=function(){return d};this.getWill=function(){return p};this.getWillQoS=function(){return willQoS};this.isWillRetained=function(){return G};this.hasAppId=function(){return h};this.hasToken=function(){return l};this.hasWill=function(){return H}}function r(){var g,b;switch(arguments.length){case 0:a.call(this,   new C(2));break;case 1:if(arguments[0]instanceof d)a.call(this,arguments[0]);else if(arguments[0]instanceof F){a.call(this,new C(2));if(null==arguments[0])throw Error("The status of ConnAskMessage can't be null");g=arguments[0]}}this.messageLength=function(){var c=2;b&&(c+=u.toMQttString(b).length);return c};this.readMessage=function(c,z){var a=u.convertStream(c);a.read();var e=a.read();switch(+e){case 0:g=new F(0);break;case 1:g=new F(1);break;case 2:g=new F(2);break;case 3:g=new F(3);break;case 4:g=   new F(4);break;case 5:g=new F(5);break;case 6:g=new F(6);break;default:throw Error("Unsupported CONNACK code: "+e);}2<z&&(b=a.readUTF())};this.writeMessage=function(c){c=u.convertStream(c);c.write(128);switch(+g.getValue()){case 0:c.write(0);break;case 1:c.write(1);break;case 2:c.write(2);break;case 3:c.write(3);break;case 4:c.write(3);break;case 5:c.write(4);break;case 6:c.write(5);break;default:throw Error("Unsupported CONNACK code: "+g.valueOf());}b&&c.writeUTF(b);return c};this.getStatus=function(){return g.valueOf()};   this.setUserId=function(c){b=c};this.getUserId=function(){return b};this.setDup=function(){throw Error("CONNACK messages don't use the DUP flag.");};this.setRetained=function(){throw Error("CONNACK messages don't use the RETAIN flag.");};this.setQos=function(){throw Error("CONNACK messages don't use the QoS flags.");}}function s(g){var b;this.MESSAGE_LENGTH=2;g instanceof d?a.call(this,g):(a.call(this,new C(14)),g instanceof I&&(b=g));this.messageLength=function(){return this.MESSAGE_LENGTH};this.readMessage=   function(c){c=u.convertStream(c);c.read();c=c.read();switch(+c){case 0:b=new I(1);break;case 1:b=new I(2);break;case 2:b=new I(3);break;default:throw Error("Unsupported CONNACK code: "+c);}};this.writeMessag=function(c){c=u.convertStream(c);c.write(0);switch(+b.getValue()){case 1:c.write(0);break;case 2:c.write(1);break;case 3:c.write(2);break;default:throw Error("Unsupported CONNACK code: "+b);}};this.getStatus=function(){return b};this.setDup=function(){throw Error("DISCONNECT message does not support the DUP flag");  };this.setQos=function(){throw Error("DISCONNECT message does not support the QoS flag");};this.setRetained=function(){throw Error("DISCONNECT message does not support the RETAIN flag");}}function x(g){g&&g instanceof d?a.call(this,g):a.call(this,new C(12));this.setDup=function(){throw Error("PINGREQ message does not support the DUP flag");};this.setQos=function(){throw Error("PINGREQ message does not support the QoS flag");};this.setRetained=function(){throw Error("PINGREQ message does not support the RETAIN flag");  };this.addEmpty=function(b){u.convertStream(b).write(0)}}function y(g){g&&g instanceof d?a.call(this,g):a.call(this,new C(13))}function h(g){var b;a.call(this,g);this.messageLength=function(){return 2};this.writeMessage=function(b){b=u.convertStream(b);var g=this.getMessageId(),a=g&255;b.write((g&65280)>>8);b.write(a);return b};this.readMessage=function(b){b=u.convertStream(b);b=256*b.read()+b.read();this.setMessageId(parseInt(b,10))};this.setMessageId=function(c){b=c};this.getMessageId=function(){return b}}   function n(g){var b,c=0;g instanceof d?h.call(this,g):(h.call(this,new C(4)),this.setMessageId(g));this.messageLength=function(){return 2};this.writeMessage=function(b){b=u.convertStream(b);n.prototype.writeMessage.call(this,b)};this.readMessage=function(g){g=u.convertStream(g);n.prototype.readMessage.call(this,g);c=g.readInt();b=256*g.read()+g.read()};this.getStatus=function(){return b};this.getDate=function(){return c};this.setDup=function(){throw Error("PubRec messages don't use the DUP flag.");   };this.setRetained=function(){throw Error("PubRec messages don't use the RETAIN flag.");};this.setQos=function(){throw Error("PubRec messages don't use the QoS flags.");}}function w(g,b,c){var a,m,e,f;1==arguments.length&&g instanceof d?h.call(this,g):3==arguments.length&&(h.call(this,new C(3)),a=g,e=c,m="string"==typeof b?u.toMQttString(b):b);this.messageLength=function(){var b;b=10+u.toMQttString(a).length;b+=u.toMQttString(e).length;return b+=m.length};this.writeMessage=function(b){b=u.convertStream(b);    b.writeUTF(a);b.writeUTF(e);w.prototype.writeMessage.call(this,b);b.write(m)};this.readMessage=function(b,c){var g=6,e=u.convertStream(b);f=e.readInt();a=e.readUTF();g+=u.toMQttString(a).length;w.prototype.readMessage.call(this,e,c);m=Array(c-g);e.read(m)};this.getTopic=function(){return a};this.getData=function(){return m};this.getTargetId=function(){return e};this.getDate=function(){return f}}function B(g,b,c){var a,m,e;g instanceof d?h.call(this,g):3==arguments.length&&(h.call(this,new C(5)),m=     "string"==typeof b?u.toMQttString(b):b,a=g,e=c);this.messageLength=function(){var b;b=0+u.toMQttString(a).length;b+=u.toMQttString(e).length;return b=b+2+m.length};this.writeMessage=function(b){b=u.convertStream(b);b.writeUTF(a);b.writeUTF(e);B.prototype.writeMessage.call(this,b);b.write(m)};this.readMessage=function(b,c){var g=0,f=u.convertStream(b);a=f.readUTF();e=f.readUTF();g+=u.toMQttString(a).length;g+=u.toMQttString(e).length;B.prototype.readMessage.call(this,f,c);m=Array(c-(g+2));f.read(m)};    this.getTopic=function(){return a};this.getData=function(){return m};this.getTargetId=function(){return e}}function e(g){g instanceof d?h.call(this,g):(h.call(this,new C(7)),this.setMessageId(g));this.setDup=function(){throw Error("PubRec messages don't use the DUP flag.");};this.setRetained=function(){throw Error("PubRec messages don't use the RETAIN flag.");};this.setQos=function(){throw Error("PubRec messages don't use the QoS flags.");}}function p(g){var b,c,a;h.call(this,g);this.readMessage=    function(g,e){var f=u.convertStream(g);p.prototype.readMessage.call(this,f);a=f.readInt();c=256*f.read()+f.read();0<e&&(b=Array(e-8),f.read(b))};this.getStatus=function(){return c};this.getDate=function(){return a};this.getData=function(){return b};this.setDup=function(){throw Error("PubAck messages don't use the DUP flag.");}}function f(g){var b=u.convertStream(g);this.writeMessag=function(c){c instanceof a&&c.write(b)}}function k(g){var b=u.convertStream(g);this.readMessage=function(){var c=b.readByte(),    c=new d(c),a=null;switch(+c.getType().currentValue()){case 2:a=new r(c);break;case 3:a=new w(c);break;case 4:a=new n(c);break;case 5:a=new B(c);break;case 6:a=new p(c);break;case 7:a=new e(c);break;case 9:case 11:case 13:a=new y(c);break;case 1:a=new l(c);break;case 8:case 10:case 12:a=new x(c);break;case 14:a=new s(c);break;default:throw Error("No support for deserializing "+c.getType().currentValue()+" messages");}a.read(b,g.length-1);return a}}function E(g){function b(b){this.run=function(){b.readTimeOut(!0)}}    var c;this.onError=this.timeout=null;g&&"number"==typeof g?c=g:(c=3E4,this.onError=g);this.resumeTimer=function(){0<c&&!this.timeout&&(this.timeout=setTimeout((new b(this)).run,c))};this.pauseTimer=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)};this.readTimeOut=function(b){if(b&&this.onError)this.onError(RongIMClient.callback.ErrorCode.setValue(0));else this.pauseTimer()}}function J(g){function b(){this.queryCallback=this.queryMessage=null}function c(){this.publishCallback=    this.publishMessage=null}var a={},m={},f=this,d={1:4,2:0,3:3,4:0,5:1,6:5},p=null,k=null,h={"RC:TxtMsg":"TextMessage","RC:ImgMsg":"ImageMessage","RC:VcMsg":"VoiceMessage","RC:ImgTextMsg":"RichContentMessage","RC:LBSMsg":"LocationMessage"},G={"RC:InfoNtf":"InformationNotificationMessage","RC:ContactNtf":"ContactNotificationMessage","RC:ProfileNtf":"ProfileNotificationMessage","RC:CmdNtf":"CommandNotificationMessage"};this.listener={};var l=0,t=0;this.putQueryCallback=function(c,a,e){var f=new b;f.queryCallback=    new g.QueryCallback(c.onSuccess,c.onError);f.queryMessage=e;f.queryCallback.resumeTimer();if(10<=t){c=t-9;for(var z in m){if(0==c)break;delete m[z];c--}t=9}m[a]=f;t++};this.putPublishCallback=function(b,e,m){var f=new c;f.publishCallback=new g.PublishCallback(b.onSuccess,b.onError);f.publishMessage=m;f.publishCallback.resumeTimer();if(10<=l){b=l-9;for(var d in a){if(0==b)break;delete a[d];b--}l=9}a[e]=f;l++};this.setConnectCallback=function(b){b&&(k=new g.ConnectAck(b.onSuccess,b.onError),k.resumeTimer())};    this.setReceiveMessageListener=function(b){p=b.onReceived;f.listener.onReceived=function(b){var c,a,e=-1;if("PublishMessage"!=b.constructor._name)q.util.cookieHelper.setCookie("SyncTime",q.util.int64ToTimestamp(b.dataTime||b.getDataTime()));else{if("s_ntf"==b.getTopic()){b=Modules.NotifyMsg.decode(b.getData());g.syncTime(f.listener,b.getType());return}if("s_msg"==b.getTopic())b=Modules.DownStreamMessage.decode(b.getData()),q.util.cookieHelper.setCookie("SyncTime",q.util.int64ToTimestamp(b.dataTime||     b.getDataTime()));else{console.log(b.getTopic());return}}a=b.getContent?b.getContent():b.content;a=q.util.JSONParse(u.readUTF(a.offset?q.util.arrayFrom(a.buffer).slice(a.offset,a.limit):a));var m=b.classname||b.getClassname();RongIMClient.Expression&&(a.content=a.content.replace(/[\uf000-\uf700]/g,function(b){return RongIMClient.Expression.calcUTF(b)||b}));if(m in h)c=new RongIMClient[h[m]](a);else{if(m in G){c=new RongIMClient[G[m]](a);p(c);return}c=(new RegExp(m)).test(RongIMClient.registerMessageType.registerMessageTypePool)?     new RongIMClient[m](a):new RongIMClient.UnknownMessage(a)}c.setSentTime(q.util.int64ToTimestamp(b.dataTime||b.getDataTime()));c.setSenderUserId(b.fromUserId||b.getFromUserId());c.setConversationType(RongIMClient.ConversationType.setValue(d[b.type||b.getType()]));c.setTargetId(3==(b.type||b.getType())?b.groupId||b.getGroupId():b.fromUserId||b.getFromUserId());c.setMessageDirection(RongIMClient.MessageDirection.RECEIVE);c.setReceivedTime(Date.now());c.setMessageId(c.getConversationType().getValue()+     "_"+Date.now());c.setReceivedStatus(new RongIMClient.ReceivedStatus);b=q.util.filter(RongIMClient.getInstance().getConversationList(),function(b,a){return b.getTargetId()==c.getTargetId()?(e=a,!0):!1})[0]||q.util.remove(RongIMClient.getInstance().getOldestConversationTypeList(),function(b){return b.getTargetId()==c.getTargetId()});b||(b=new RongIMClient.Conversation,b.setTargetId(c.getTargetId()),b.setConversationType(c.getConversationType()),b.setConversationTitle(""));/ISCOUNTED/.test(c.getMessageTag())&&     0!=b.getConversationType().getValue()&&b.setUnreadMessageCount(b.getUnreadMessageCount()+1);b.setReceivedTime(Date.now());b.setReceivedStatus(new RongIMClient.ReceivedStatus);b.setSenderUserId(c.getSenderUserId());b.setObjectName(c.getObjectName());b.setNotificationStatus(RongIMClient.ConversationNotificationStatus.DO_NOT_DISTURB);b.setLatestMessageId(c.getMessageId());b.setLatestMessage(c);0!=e&&b.setTop();p(c)}};this.handleMessage=function(b){if(b)switch(b.constructor._name){case "ConnAckMessage":k.process(b.getStatus(),     b.getUserId());break;case "PublishMessage":0!=b.getQos().currentValue()&&g.channel.writeAndFlush(new n(b.getMessageId()));if(p)f.listener.onReceived(b);break;case "PubAckMessage":var c=a[b.getMessageId()];c&&c.publishCallback&&c.publishCallback.process(b.getStatus(),b.getDate(),c.publishMessage);break;case "QueryAckMessage":0!=b.getQos().currentValue()&&g.channel.writeAndFlush(new e(b.getMessageId()));(c=m[b.getMessageId()])&&c.queryCallback&&c.queryCallback.process(b.getStatus(),b.getData(),b.getDate(),     c.queryMessage);break;case "PingRespMessage":g.pauseTimer();break;case "DisconnectMessage":g.channel.disconnect(b.getStatus())}}}function t(){function a(b){this.run=function(){if(b.timeout_){try{b.channel.disconnect()}catch(c){}clearTimeout(b.timeout_);b.timeout_=null;b.channel.reconnect();b.channel.socket.fire("statuschanged",2)}}}function b(b,c){var a=b.host+b.port+"?appId="+m.appId+"&token="+encodeURIComponent(m.appToken)+"&sdkVer="+m.sdkVer+"&apiVer="+m.apiVer;this.socket=q.connect(a,c);this.writeAndFlush=    function(b){var c=new K([]);(new f(c)).writeMessag(b);this.socket.send(c.getBytesArray(!0))};this.reconnect=function(b){m.messageId=0;this.socket=this.socket.reconnect();b&&(m.reconnectObj=b)};this.disconnect=function(b){var c=2;b&&(c=b);this.socket.disconnect(c)};this.isWriteable=function(){return q.getInstance().connected||q.getInstance().connecting};this.setConnectStatusListener=function(b,c){if("object"==typeof c&&"onChanged"in c)this.socket.on("statuschanged",function(a){if(a instanceof I)a=    b.setValue(a.getValue()+2),c.onChanged(a),m.pauseTimer(),4==a.getValue()&&clearTimeout(m.heartbeat);else c.onChanged(b.setValue(a))});else throw Error("setConnectStatusListener:Parameter format is incorrect");};this.socket.on("message",m.handler.handleMessage);this.socket.on("disconnect",function(){m.channel.socket.fire("statuschanged",5)})}function c(b,c){switch(c){case "GetUserInfoOutput":var a=new RongIMClient.UserInfo;a.setUserId(b.getUserId());a.setUserName(b.getUserName());a.setPortraitUri(b.getUserPortrait());    return a;case "GetQNupTokenOutput":return{deadline:q.util.int64ToTimestamp(b.getDeadline()),token:b.getToken()};case "GetQNdownloadUrlOutput":return{downloadUrl:b.getDownloadUrl()};case "CreateDiscussionOutput":return b.getId();case "ChannelInfoOutput":return a=new RongIMClient.Discussion,a.setCreatorId(b.getAdminUserId()),a.setId(b.getChannelId()),a.setMemberIdList(b.getFirstTenUserIds()),a.setName(b.getChannelName()),a.setopen(b.getOpenStatus()),a;default:return{}}}var e,m=this,d,p;this.timeout_=    null;this.appId="";this.apiVer=this.sdkVer="1.0.0";this.channel=null;this.messageId=0;this.appToken="";this.handler=this.group=null;this.userId="";this.userInfo=null;this.ConversationList=[];this.oldestConversation=[];this.ReceiveMessageListener=null;this.reconnectObj={};this.heartbeat=null;this.chatroomid=0;this.removeConversationListCache=function(){var b=this.ConversationList.splice(30);this.oldestConversation.splice(10-b.length);this.oldestConversation=b.concat(this.oldestConversation)};this.resumeTimer=    function(){this.timeout_||(e=new a(this),this.timeout_=setTimeout(e.run,1E5));Date.now()};this.pauseTimer=function(){this.timeout_&&(clearTimeout(this.timeout_),this.timeout_=null)};this.setReceiveMessageListener=function(b){"object"==typeof b&&"onReceived"in b&&(this.ReceiveMessageListener=b)};this.connect=function(c,a){this.appToken=c;if(t.Endpoint.port&&t.Endpoint.host)if(clearInterval(window.getEndpoint),"WebSocket"in window)WebSocket.loadFlashPolicyFile&&(WebSocket.loadFlashPolicyFile(t.Endpoint.host.split(":")[0]),    WebSocket.WEB_SOCKET_DEBUG(!0)),this.handler=new J(this),this.handler.setReceiveMessageListener(this.ReceiveMessageListener),this.channel=new b(t.Endpoint,function(){m.keeplive()}),this.handler.setConnectCallback(a),d&&p&&this.channel.setConnectStatusListener(d,p),this.channel.socket.fire("statuschanged",1);else a.onError(RongIMClient.ConnectCallback.ErrorCode.setValue(1));else a.onError(RongIMClient.ConnectCallback.ErrorCode.setValue(5))};this.close=function(){this.channel.disconnect(5)};this.setConnectionStatusListener=    function(b,c){d=b;p=c};this.keeplive=function(){var b=this.appId,c=this,a=function(){c.resumeTimer();c.channel.writeAndFlush(new x);console.log("keep live pingReqMessage sending appId "+b);c.heartbeat=setTimeout(a,18E4)};c.heartbeat=setTimeout(a,18E4)};this.publishMessage=function(b,c,a,g,e){this.messageId++;6E4<this.messageId&&(console.log("publish message is over limited"),this.channel.reconnect());b=new w(b,c,a);b.setMessageId(this.messageId);g?(b.setQos(new D(1)),this.channel.writeAndFlush(b),    this.handler.putPublishCallback(g,b.getMessageId(),e)):(b.setQos(new D(0)),this.channel.writeAndFlush(b))};var k={};this.queryMessage=function(b,c,a,g,e,m){if("userInf"==b){if(a in k){if(1==k[a].isUsed)if(k[a].userInfo)e.onSuccess(k[a].userInfo);else e.onError(RongIMClient.callback.ErrorCode.setValue(0));return}k[a]={isUsed:!0,userInfo:null}}this.messageId++;6E4<this.messageId&&this.channel.reconnect();b=new B(b,c,a);b.setMessageId(this.messageId);b.setQos(g);this.handler.putQueryCallback(e,b.getMessageId(),    m);this.channel.isWriteable()&&this.channel.writeAndFlush(b)};this.PublishCallback=function(b,c){E.call(this,c);this.process=function(a,g,e){this.readTimeOut();0==a?(e&&e.setSentStatus(RongIMClient.SentStatus.RECEIVED),b()):c(RongIMClient.callback.ErrorCode.setValue(1))};var a=arguments.callee;this.readTimeOut=function(b){a.prototype.readTimeOut.call(this,b)}};this.PublishCallback.prototype=new E;this.PublishCallback.prototype.constructor=this.PublishCallback;this.QueryCallback=function(b,a){E.call(this,    a);this.process=function(g,e,m,f){this.readTimeOut();0==g?f&&e?(e=c(Modules[f].decode(e),f),"GetUserInfoOutput"==f&&(k[e.getUserId()].userInfo=e),b(e)):b(g,e,m):a(RongIMClient.callback.ErrorCode.setValue(1))};var g=arguments.callee;this.readTimeOut=function(b){g.prototype.readTimeOut.call(this,b)}};this.QueryCallback.prototype=new E;this.QueryCallback.prototype.constructor=this.QueryCallback;this.ConnectAck=function(b,c){E.call(this,c);this.process=function(a,g){this.readTimeOut();0==a.getValue()?    (q.util.cookieHelper.getCookie("userId")!=g&&(q.util.cookieHelper.setCookie("userId",g),q.util.cookieHelper.deleteCookie("SyncTime")),RongIMClient.getInstance().getUserInfo(g,{onSuccess:function(b){m.userInfo=b},onError:function(){console.warn("Pull login-user data has failed")}}),m.userId=g,m.syncTime(m.handler.listener),m.reconnectObj.onSuccess?(m.reconnectObj.onSuccess(g),delete m.reconnectObj.onSuccess):b(g),q.getInstance().fire("statuschanged",0),q.getInstance()._doQueue()):m.reconnectObj.onError?    (m.reconnectObj.onError(RongIMClient.ConnectCallback.ErrorCode.setValue(a.getValue())),delete m.reconnectObj.onError):c(RongIMClient.ConnectCallback.ErrorCode.setValue(a.getValue()))};var a=arguments.callee;this.readTimeOut=function(b){a.prototype.readTimeOut.call(this,b)}};this.ConnectAck.prototype=new E;this.ConnectAck.prototype.constructor=this.ConnectAck;var l=null,h=null;this.syncTime=function(b,c){var a,g,e,f;if(2!=c){a=q.util.cookieHelper.getCookie("SyncTime")||0;if(l==a)return;l=a;g=new Modules.SyncRequestMsg;    g.setIspolling(!1);e="pullMsg";f=m.userId}else{a=q.util.cookieHelper.getCookie("ChatSyncTime")||0;if(h==a)return;h=a;g=new Modules.ChrmPullMsg;g.setCount(0);e="chrmPull";if(0===m.chatroomid)throw Error("Received messages of chatroom but was not init");f=m.chatroomid}g.setSyncTime(a);m.queryMessage(e,q.util.arrayFrom(g.toArrayBuffer()),f,D.valueOf(1),{onSuccess:function(c,a,g){if(0==c&&(c=Modules.DownStreamMessages.decode(a),a=q.util.int64ToTimestamp(c.getSyncTime()),"pullMsg"==e?(g="SyncTime",l==    a&&(l+="_")):(g="ChatSyncTime",h==a&&(h+="_")),q.util.cookieHelper.setCookie(g,a),c=c.getList(),b))for(a=0;a<c.length;a++)b.onReceived(c[a])},onError:function(){}})}}function v(a,b,c){v._client=t.connect(a,b,c);var e=["invtDiz","crDiz","qnUrl","userInf","dizInf","userInf","joinGrp","quitDiz","exitGrp","evctDiz",["ppMsgP","pdMsgP","pgMsgP","pcMsgP","chatMsg"],"pdOpen","rename","uGcmpr","qnTkn","destroyChrm","createChrm","exitChrm","queryChrm","joinChrm","pGrps"];this.getIO=function(){return q};this.getCurrentUserInfo=    function(){return v._client.userInfo||{getUserId:function(){return v._client.userId}}};this.setConnectionStatusListener=function(b,c){return v._client?(v._client.setConnectionStatusListener(b,c),!0):!1};this.setReceiveMessageListener=function(b){if(v._client)v._client.setReceiveMessageListener(b);else throw Error("NullPointExpection");};this.removeConversationListCache=function(){v._client.removeConversationListCache()};this.getCurrentConversationList=function(){return v._client.ConversationList};    this.clearConversations=function(b){for(var c=0;c<b.length;c++)for(var a=0;a<v._client.ConversationList.length;a++){var g=v._client.ConversationList[a].getConversationType().getValue()==b[c].getValue()&&v._client.ConversationList.splice(a,1);!1!==g&&(v._client.oldestConversation=g.concat(v._client.oldestConversation))}v._client.oldestConversation.splice(10);return!0};this.getCurrentOldestConversationList=function(){return v._client.oldestConversation};this.reConnect=function(b){v._client.channel.reconnect(b)};    this.disConnect=function(){v._client.channel.disconnect()};this.queryMsg=function(b,c,a,g,f){v._client.queryMessage(e[b],c,a,D.valueOf(0),g,f)};this.pubMsg=function(b,c,a,g,f){v._client.publishMessage(e[10][b],c,a,g,f)}}var L=function(){var a=document.createElement("script");a.src=this.WebSocket&&this.ArrayBuffer&&!window.WEB_SOCKET_FORCE_FLASH?"http://rongcloud-web-sdk.qiniudn.com/protobuf-0.1.min.js":"http://rongcloud-web-sdk.qiniudn.com/swfobject-0.1.min.js?v=1";document.getElementsByTagName("head")[0].appendChild(a)};   "interactive"==document.readyState||"complete"==document.readyState?L():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);L()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){if("interactive"===document.readyState||"complete"===document.readyState)document.detachEvent("onreadystatechange",arguments.callee),L()});var u=window.RongBinaryHelper={init:function(a){for(var b=    0;b<a.length;b++)a[b]*=1,0>a[b]&&(a[b]+=256);return a},writeUTF:function(a,b){for(var c=[],e=0,f=["0xxxxxxxx","110xxxxx 10xxxxxx","1110xxxx 10xxxxxx 10xxxxxx","11110xxx 10xxxxxx 10xxxxxx 10xxxxxx"],d=0;d<a.length;d++){var p=0,k=a.charCodeAt(d),l=k.toString(2);if(0<=k&&127>=k)e+=1,c.push(k);else{128<=k&&2047>=k?(e+=2,p=1):2048<=k&&65535>=k&&(e+=3,p=2);var k=f[p].split(" "),h=l.slice(0,l.length-6*p);if(h.length<6-p){for(var t="",n=0;n<6-p-h.length;n++)t+="0";h=t+h}t="";for(n=0;n<6-p;n++)t+="x";c.push(parseInt(k[0].replace(t,    h),2));for(h=0;h<p;h++)c.push(parseInt(k[h+1].replace("xxxxxx",l.slice(l.length-6*(p-h),l.length-6*(p-h-1))),2))}}if(b)return c;255>=e?c=[0,e].concat(c):(e=e.toString(2),c=[parseInt(e.slice(0,e.length-8),2),parseInt(e.slice(e.length-8),2)].concat(c));return c},readUTF:function(a){var b="";a=this.init(a);for(var c=0;c<a.length;c++){var e=a[c].toString(2),f=e.match(/^1+?(?=0)/);if(f&&8==e.length){for(var e=f[0].length,f=a[c].toString(2).slice(7-e),d=1;d<e;d++)f+=a[d+c].toString(2).slice(2);b+=String.fromCharCode(parseInt(f,    2));c+=e-1}else b+=String.fromCharCode(a[c])}return b},convertStream:function(a){return a instanceof K?a:new K(a)},toMQttString:function(a){return this.writeUTF(a)}},K=function(a){function b(b,a,e){e=e?e:[];for(var g=0;g<a;g++)e[g]=c[b.position++];return e}var c=u.init(a),e=this;this.writen=this.position=0;this.readInt=function(){if(e.position>=c.length)return-1;for(var b="",a=0;4>a;a++)b+=c[this.position++].toString(16);return parseInt(b,16)};this.readByte=function(){if(e.position>=c.length)return-1;    var b=c[this.position++];255<b&&(b=parseInt(b.toString(2).slice(-8),2));return b};this.read=function(a){if(e.position>=c.length)return-1;if(a)b(this,a.length,a);else return b(this,1)[0]};this.readUTF=function(){var b=this.position,a="",e=0,g=c,e=g.slice(b,b+2),f=e[1].toString(16);2>f.length&&(f="0"+f);e=2+parseInt(e[0].toString(16)+f,16);for(f=b+2;f<b+e;f++){var d=g[f].toString(2),p=d.match(/^1+?(?=0)/);if(p&&8==d.length){for(var d=p[0].length,p=g[f].toString(2).slice(7-d),k=1;k<d;k++)p+=g[k+f].toString(2).slice(2);    a+=String.fromCharCode(parseInt(p,2));f+=d-1}else a+=String.fromCharCode(g[f])}this.position+=e;return a};this.write=function(b){"[object array]"==Object.prototype.toString.call(b).toLowerCase()?c=c.concat(b):+b==b&&(255<b&&(b=b.toString(2),b=parseInt(b.slice(b.length-8),2)),c.push(b),this.writen++);return b};this.writeChar=function(b){if(+b!=b)throw Error("arguments type is error");this.write(b>>8&255);this.write(b&255);this.writen+=2};this.writeUTF=function(b){for(var a=[],e=0,g=0;g<b.length;g++){var f=    b.charCodeAt(g);0<=f&&127>=f?(e+=1,a.push(f)):128<=f&&2047>=f?(e+=2,a.push(192|31&f>>6),a.push(128|63&f)):2048<=f&&65535>=f&&(e+=3,a.push(224|15&f>>12),a.push(128|63&f>>6),a.push(128|63&f))}for(g=0;g<a.length;g++)255<a[g]&&(b=a[g].toString(16),a[g]=parseInt(b.slice(b.length-2),16));255>=e?c=c.concat([0,e].concat(a)):(e=e.toString(16),c=c.concat([parseInt(e.slice(0,e.length-2),16),parseInt(e.slice(e.length-2),16)].concat(a)));this.writen+=a.length+2};this.toComplements=function(){for(var b=c,a=0;a<    b.length;a++)128<b[a]&&(b[a]-=256);return b};this.getBytesArray=function(b){return b?this.toComplements():c}},D=function(a){var b=0;a&&(b=a);this.currentValue=function(){return b}},C=function(a){var b=0;a&&(b=a);this.currentValue=function(){return b}},F=function(a){var b=0,b=a;this.getValue=function(){return b}},I=function(a){var b=a||0;this.getValue=function(){return b}};D.valueOf=function(a){return new D(a)};C.valueOf=function(a){return new C(a)};a._name="Message";l._name="ConnectMessage";l.prototype=    new a;l.prototype.constructor=l;r._name="ConnAckMessage";r.prototype=new a;r.prototype.constructor=r;s._name="DisconnectMessage";s.prototype=new a;s.prototype.constructor=s;x._name="PingReqMessage";x.prototype=new a;x.prototype.constructor=x;y._name="PingRespMessage";y.prototype=new a;y.prototype.constructor=y;h._name="RetryableMessage";h.prototype=new a;h.prototype.constructor=h;n._name="PubAckMessage";n.prototype=new h;n.prototype.constructor=n;w._name="PublishMessage";w.prototype=new h;w.prototype.constructor=    w;B._name="QueryMessage";B.prototype=new h;B.prototype.constructor=B;e._name="QueryConMessage";e.prototype=new h;e.prototype.constructor=e;p._name="QueryAckMessage";p.prototype=new h;p.prototype.constructor=p;var q={connect:function(a,b){if(this.getInstance)return this;var c=(new this.createServer).connect(a,b);this.getInstance=function(){return c};return c}};(function(){var a=!1;q.util={ios:!1,load:function(b){if("complete"==document.readyState||a)return b();"attachEvent"in window?window.attachEvent("onload",    b):window.addEventListener("load",b,!1)},inherit:function(b,a){for(var e in a.prototype)b.prototype[e]=a.prototype[e]},indexOf:function(b,a,e){var g=b.length;for(e=0>e?Math.max(0,+e):e||0;e<g;e++)if(b[e]==a)return e;return-1},isArray:function(b){return"[object Array]"==Object.prototype.toString.call(b)},forEach:function(b,a){if([].forEach)return[].forEach.call(b,a);for(var e=0;e<b.length;e++)a.call(b,b[e],e,b)},merge:function(b,a){for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e])},JSONStringify:function(b){if(window.JSON)return JSON.stringify(b);    var a="{",e;for(e in b)b.hasOwnProperty(e)&&(a+=e+":"+("[object Object]"==Object.prototype.toString.call(b[e])?arguments.callee(b[e]):b[e])+",");return(a=a.slice(0,a.length-1)+"}")||""},JSONParse:function(b){return window.JSON?JSON.parse(b):eval("("+b+")")},arrayFrom:function(b){return"[object ArrayBuffer]"==Object.prototype.toString.call(b)?(b=new Int8Array(b),[].slice.call(b)):q.util.isArray(b)?b:[]},filter:function(b,a){if([].filter)return b.filter(a);for(var e=[],g=0;g<b.length;g++)a(b[g],g,b)&&   e.push(b[g]);return e},remove:function(b,a){for(var e=0;e<b.length;e++)if(a(b[e]))return b.splice(e,1)[0];return null},getIndex:function(b,a){for(var e=0;e<b.length;e++)if(a(b[e]))return e;return-1},int64ToTimestamp:function(b,a){var e=b.low;0>e&&(e+=Math.pow(2,32));return a?new Date(b.high*Math.pow(2,32)+e):b.high*Math.pow(2,32)+e},cookieHelper:{getCookieVal:function(b){var a=document.cookie.indexOf(";",b);-1==a&&(a=document.cookie.length);return unescape(document.cookie.substring(b,a))},getCookie:function(b){b+=    "=";for(var a=b.length,e=document.cookie.length,g=0;g<e;){var f=g+a;if(document.cookie.substring(g,f)==b)return this.getCookieVal(f);g=document.cookie.indexOf(" ",g)+1;if(0==g)break}return null},setCookie:function(b,a){document.cookie=b+"="+escape(a)+"; path=/"},deleteCookie:function(b){this.getCookie(b)&&(document.cookie=b+"=; path=/; expires=Thu, 01-Jan-1970 00:00:01 GMT")}}};q.util.ios=/iphone|ipad/i.test(navigator.userAgent);q.util.android=/android/i.test(navigator.userAgent);q.util.opera=/opera/i.test(navigator.userAgent);    q.util.load(function(){a=!0})})();(function(){var a=q.Transport=function(b,a){this.base=b;this.options={timeout:3E4};q.util.merge(this.options,a)};a.prototype.send=function(){throw Error("No rewrite send() method");};a.prototype.connect=function(){throw Error("No rewrite connect() method");};a.prototype.disconnect=function(){throw Error("No rewrite disconnect() method");};a.prototype._decode=function(b){var a=this;if(q.util.isArray(b))this._onMessage((new k(b)).readMessage());else{var e=new FileReader;    e.readAsArrayBuffer(b);e.onload=function(){a._onMessage((new k(q.util.arrayFrom(e.result))).readMessage())}}};a.prototype._onData=function(b){this._decode(b)};a.prototype._onMessage=function(b){this.base._onMessage(b)};a.prototype._onConnect=function(){this.connected=!0;this.connecting=!1;this.base._onConnect()};a.prototype._onDisconnect=function(){this.connected=this.connecting=!1;this.sessionId=null;this.base._onDisconnect()}})();(function(){var a=q.Transport.websocket=function(){q.Transport.apply(this,    arguments)};q.util.inherit(a,q.Transport);a.prototype.type="websocket";a.prototype.connect=function(b){var a=this;this.socket=new WebSocket("ws://"+b);this.socket.onopen=function(){a._onConnect()};this.socket.onmessage=function(b){"string"==typeof b.data?a._onData(b.data.split(",")):a._onData(b.data)};this.socket.onclose=function(){console.log("closed");a._onClose()};this.socket.onerror=function(){if(v._client&&v._client.reconnectObj.onError)v._client.reconnectObj.onError(RongIMClient.ConnectCallback.ErrorCode.setValue(2)),    delete v._client.reconnectObj.onError;else throw Error("network is unavailable or unknown error");};return this};a.prototype.send=function(b){1==this.socket.readyState&&(window.Int8Array&&!window.WEB_SOCKET_FORCE_FLASH?(b=new Int8Array(b),this.socket.send(b.buffer)):this.socket.send(b+""));return this};a.prototype.disconnect=function(){this.socket&&this.socket.close();return this};a.prototype._onClose=function(){this._onDisconnect();return this};a.check=function(){return"WebSocket"in window&&WebSocket.prototype&&    WebSocket.prototype.send&&"undefined"!==typeof WebSocket};a.xdomainCheck=function(){return!0}})();(function(){var a=q.createServer=function(b,a){if(q.getInstance)return q.getInstance();this.host=b||document.domain;this.options={token:"",secure:!1,document:document,port:document.location.port||80,resource:"RongIM.imlib",transports:["websocket"]};q.util.merge(this.options,a);this.connecting=this.connected=!1;this._events={};this.currentURL="";this.transport=this.getTransport();!this.transport&&"console"in    window&&console.error("the channel was not supported")};a.prototype.getTransport=function(){for(var b=0,a=this.options.transports[b];b<a.length;b++)if(q.Transport[a]&&q.Transport[a].check()&&(!this._isXDomain()||q.Transport[a].xdomainCheck()))return new q.Transport[a](this,{})};a.prototype.connect=function(b,a){if(this.transport&&!this.connected&&2==arguments.length){if(b)this.on("connect",a||function(){});this.connecting&&this.disconnect();this.connecting=!0;b&&(this.currentURL=b);this.transport.connect(this.currentURL)}return this};    a.prototype.send=function(b){if(!this.transport||!this.connected)return this._queue(b);this.transport.send(b)};a.prototype.disconnect=function(b){b&&this.fire("statuschanged",b);this.transport.disconnect();return this};a.prototype.reconnect=function(){if(this.currentURL)return this.connect(null,null);throw Error("cannot reconnect");};a.prototype.fire=function(b,a){if(b in this._events)for(var e=0,f=this._events[b].length;e<f;e++)this._events[b][e](a);return this};a.prototype.removeEvent=function(b,    a){if(b in this._events)for(var e=0,f=this._events[b].length;e<f;e++)this._events[b][e]==a&&this._events[b].splice(e,1);return this};a.prototype._queue=function(b){"_queueStack"in this||(this._queueStack=[]);this._queueStack.push(b);return this};a.prototype._doQueue=function(){if(!("_queueStack"in this&&this._queueStack.length))return this;for(var b=0;b<this._queueStack.length;b++)this.transport.send(this._queueStack[b]);this._queueStack=[];return this};a.prototype._isXDomain=function(){return this.host!==     document.domain};a.prototype._onConnect=function(){this.connected=!0;this.connecting=!1;this.fire("connect")};a.prototype._onMessage=function(b){this.fire("message",b)};a.prototype._onDisconnect=function(){var b=this.connected;this.connecting=this.connected=!1;this._queueStack=[];b&&this.fire("disconnect")};a.prototype.on=function(b,a){if("function"!=typeof a||!b)return this;b in this._events?-1==q.util.indexOf(this._events,a)&&this._events[b].push(a):this._events[b]=[a];return this};a.prototype.emit=     function(b,a){this.fire(b,a)};a.prototype.addListener=a.prototype.addEvent=a.prototype.addEventListener=a.prototype.on})();t.connect=function(a,b,e){var f=new t;f.appId=a;t.getServerEndpoint(b,a,function(){f.connect(b,e)},e.onError);return f};t.getServerEndpoint=function(a,b,e,f){var d=document.createElement("script");d.src="http://nav.cn.rong.io/navi.js?appId="+b+"&token="+encodeURIComponent(a)+"&callBack=getServerEndpoint&t="+Date.now();document.body.appendChild(d);d.onerror=function(){f(RongIMClient.ConnectCallback.ErrorCode.setValue(5))};    "object"===typeof d.onload?d.onload=e:d.onreadystatechange=function(){"loaded"==d.readyState&&e()}};t.Endpoint={};window.getServerEndpoint=function(a){t.Endpoint.host=a.server;t.Endpoint.port="/websocket"};window.RongBridge=v})(window);  (function(){this.RongIMClient=function(a){function d(a){a=Object.prototype.toString.call(a).toLowerCase();return a.slice(8,a.length-1)}var l,r=a,s=this,x={1:"3",2:"1",3:"2",4:"0",0:"4"},y,h,n=function(a,p){var f=arguments.callee.caller;s.options.isEnableDebug()&&console.log("Being executed: "+f.name+" method");if(f.length==f.arguments.length&&(h||p))for(var k=0,l=f.arguments.length;k<l;k++){if(!(new RegExp(d(f.arguments[k]))).test(a[k]))throw Error("ErrorTypeExpection.the index of"+k+" was wrong type"+   a[k]);}else throw Error("NullPointExpection.The parameter is incorrect or was not yet instantiated RongIMClient");},w=[],B=sessionStorage||new function(){var a={};this.length=0;this.clear=function(){a={};this.length=0};this.setItem=function(d,f){!a[d]&&this.length++;a[d]=f;return d in a};this.getItem=function(d){return a[d]};this.removeItem=function(d){return d in a?(delete a[d],this.length--,!0):!1}};this.options=new RongIMClient.Options;this.clearTextMessageDraft=function(a,d){n(["object","string"]);   return B.removeItem(a.getValue()+"_"+d)};this.getTextMessageDraft=function(a,d){n(["string","string"]);return B.getItem(a.getValue()+"_"+d)};this.saveTextMessageDraft=function(a,d,f){n(["object","string","string"]);return B.setItem(a.getValue()+"_"+d,f)};this.init=function(a){r=a};this.getIO=function(){return l};this.connect=function(a,d){n(["string","object"],!0);h=new window.RongBridge(r,a,d);l=h.getIO();if(w.length){for(var f=0;f<w.length;f++)h[w[f].name](w[f].args);w=[]}y&&h.setConnectionStatusListener(RongIMClient.ConnectionStatusListener.ConnectionStatus,   y)};this.disconnect=function(){h&&h.disConnect()};this.reconnect=function(a){n(["object"]);h&&h.reConnect(a)};this.getConversation=function(a,d){n(["object","string"]);return l.util.filter(this.getConversationList(),function(f){return f.getTargetId()==d&&f.getConversationType().getValue()==a.getValue()})[0]||null};this.getConversationList=function(){return h.getCurrentConversationList()};this.getOldestConversationTypeList=function(){return h.getCurrentOldestConversationList()};this.getConversationNotificationStatus=   function(a,d,f){n(["object","string","object"]);if(a=this.getConversation(a,d))f.onSuccess(a.getNotificationStatus());else f.onError(RongIMClient.callback.ErrorCode.setValue(1))};this.clearConversations=function(a){n(["array"]);return h.clearConversations(a)};this.getGroupConversationList=function(){return l.util.filter(this.getConversationList(),function(a){return"3"==a.getConversationType().getValue()})};this.removeConversation=function(a,d){n(["object","string"]);var f=l.util.remove(this.getConversationList(),   function(f){return f.getTargetId()==d&&f.getConversationType().getValue()==a.getValue()});h.getOldestConversationTypeList().unshift(f);h.removeConversationListCache()};this.removeConversationListCache=function(){h.removeConversationListCache()};this.setConversationNotificationStatus=function(a,d,f,k){n(["object","string","object","object"]);if(a=this.getConversation(a,d))a.setNotificationStatus(f),k.onSuccess(f);else k.onError(RongIMClient.callback.ErrorCode.setValue(1))};this.setConversationToTop=   function(a,d){n(["object","string","object"]);this.getConversation(a,d).setTop()};this.setConversationName=function(a,d,f){n(["object","string","string"]);this.getConversation(a,d).setConversationTitle(f)};this.createConversation=function(a,d,f){n(["object","string","string"]);var k=l.util.filter(this.getConversationList(),function(a){return a.getTargetId()==d});if(0<k.length)return k[0];k=new RongIMClient.Conversation;k.setTargetId(d);k.setConversationType(a);k.setConversationTitle(f);k.setTop();   return k};this.getCurrentUserInfo=function(){return h.getCurrentUserInfo()};this.getUserInfo=function(a,d){n(["string","object"]);var f=new Modules.GetUserInfoInput;f.setNothing(1);h.queryMsg("5",l.util.arrayFrom(f.toArrayBuffer()),a,d,"GetUserInfoOutput")};this.sendMessage=function(a,d,f,k,r){n(["object","string","object","object|null","object"]);if(l.getInstance().connected){k&&k.process(f.getMessage());f instanceof RongIMClient.MessageContent||(f=new RongIMClient.MessageContent(f));k=x[a.getValue()];   var y=f.encode(),t=f.getMessage(),v=-1,s;if(!k)throw Error("NullPointExpection");t.setConversationType(a);t.setMessageDirection(RongIMClient.MessageDirection.SEND);t.getMessageId()||t.setMessageId(a.getValue()+"_"+Date.now());t.setSentStatus(RongIMClient.SentStatus.SENDING);t.setSenderUserId(this.getCurrentUserInfo().getUserId());t.setSentTime(Date.now());t.setTargetId(d);/ISCOUNTED/.test(t.getMessageTag().toString())&&(s=l.util.filter(this.getConversationList(),function(a,e){return a.getTargetId()==    d?(v=e,!0):!1})[0]||l.util.remove(this.getOldestConversationTypeList(),function(a){return a.getTargetId()==d}),s||(s=new RongIMClient.Conversation,s.setTargetId(d),s.setConversationType(a),s.setConversationTitle("")),s.setSentTime(Date.now()),s.setSentStatus(RongIMClient.SentStatus.SENDING),s.setSenderUserName(""),s.setSenderUserId(this.getCurrentUserInfo().getUserId()),s.setObjectName(t.getObjectName()),s.setNotificationStatus(RongIMClient.ConversationNotificationStatus.DO_NOT_DISTURB),s.setLatestMessageId(t.getMessageId()),    s.setLatestMessage(f),s.setUnreadMessageCount(0),0!=v&&s.setTop());h.pubMsg(k,y,d,r,t)}else r.onError(RongIMClient.callback.ErrorCode.setValue(0))};this.setOptions=function(a){this.options.setEnableDebug(a)};this.uploadMedia=function(a,d,f,k){n(["object","string","string","object"])};this.getUploadToken=function(a){n(["object"]);var d=new Modules.GetQNupTokenInput;d.setType(1);h.queryMsg("14",l.util.arrayFrom(d.toArrayBuffer()),this.getCurrentUserInfo().getUserId(),a,"GetQNupTokenOutput")};this.getdownloadUrl=   function(a,d){n(["string","object"]);var f=new Modules.GetQNdownloadUrlInput;f.setType(1);f.setKey(a);h.queryMsg("14",l.util.arrayFrom(f.toArrayBuffer()),this.getCurrentUserInfo().getUserId(),d,"GetQNdownloadUrlOutput")};this.setConnectionStatusListener=function(a){h?h.setConnectionStatusListener(RongIMClient.ConnectionStatusListener.ConnectionStatus,a):y=a};this.setOnReceiveMessageListener=function(a){h?h.setReceiveMessageListener(a):w.push({name:"setReceiveMessageListener",args:a})};this.getTotalUnreadCount=   function(){var a=0;l.util.forEach(this.getConversationList(),function(d){a+=d.getUnreadMessageCount()});return a};this.getUnreadCount=function(a,h){n(["array|object","string|undefined"]);var f=0;if("array"==d(a))for(var k=this.getConversationList(),s=0;s<a.length;s++)l.util.forEach(k,function(d){d.getConversationType().getValue()==a[s].getValue()&&(f+=d.getUnreadMessageCount())});else{if(0==a.getValue())return f;(k=l.util.filter(this.getConversationList(),function(f){return f.getConversationType().getValue()==   a.getValue()&&f.getTargetId()==h})[0])&&(f=k.getUnreadMessageCount())}return f};this.clearMessagesUnreadStatus=function(a,d){n(["object","string"]);if(0==a.getValue())return!1;var f=l.util.filter(this.getConversationList(),function(f){return f.getConversationType().getValue()==a.getValue()&&f.getTargetId()==d})[0];return!(!f||(f.setUnreadMessageCount(0),!1))};this.initChatRoom=function(a){n(["string"]);window.RongBridge._client.chatroomid=a};this.joinChatRoom=function(a,d,f){n(["string","number",   "object"]);var k=new Modules.ChrmInput;k.setNothing(1);h.queryMsg("19",l.util.arrayFrom(k.toArrayBuffer()),a,{onSuccess:function(){f.onSuccess();var h=new Modules.ChrmPullMsg;h.setCount(d);h.setSyncTime(Date.now());window.RongBridge._client.queryMessage("chrmPull",l.util.arrayFrom(h.toArrayBuffer()),a,{currentValue:function(){return 1}},{onSuccess:function(a,e){if(0==a)for(var f=Modules.DownStreamMessages.decode(e).getList(),d=0;d<f.length;d++)RongBridge._client.handler.listener.onReceived(f[d])},   onError:function(a){f.onError(a)}})},onError:function(){f.onError(RongIMClient.callback.ErrorCode.setValue(0))}},"ChrmOutput")};this.quitChatRoom=function(a,d){n(["string","object"]);var f=new Modules.ChrmInput;f.setNothing(1);h.queryMsg("17",l.util.arrayFrom(f.toArrayBuffer()),a,d,"ChrmOutput")};this.sendNotification=function(a,d,f,h){n(["string","string","object","object"]);if(f instanceof RongIMClient.NotificationMessage)this.sendMessage(a,d,new RongIMClient.MessageContent(f),null,h);else throw Error("Wrong paramters");  };this.sendStatus=function(a,d,f,h){n(["string","string","object","object"]);if(f instanceof RongIMClient.StatusMessage)this.sendMessage(a,d,new RongIMClient.MessageContent(f),null,h);else throw Error("Wrong paramters");};this.setDiscussionInviteStatus=function(a,d,f){n(["string","object","object"]);var k=new Modules.ModifyPermissionInput;k.setOpenStatus(d.getValue());h.queryMsg("11",l.util.arrayFrom(k.toArrayBuffer()),a,f)};this.setDiscussionName=function(a,d,f){n(["string","string","object"]);var k=   new Modules.RenameChannelInput;k.setName(d);h.queryMsg("12",l.util.arrayFrom(k.toArrayBuffer()),a,f)};this.removeMemberFromDiscussion=function(a,d,f){n(["string","string","object"]);var k=new Modules.ChannelEvictionInput;k.setUser(d);h.queryMsg("9",l.util.arrayFrom(k.toArrayBuffer()),a,f)};this.createDiscussion=function(a,d,f){n(["string","array","object"]);var k=new Modules.CreateDiscussionInput;k.setName(a);h.queryMsg("1",l.util.arrayFrom(k.toArrayBuffer()),this.getCurrentUserInfo().getUserId(),   {onSuccess:function(a){var e=new Modules.ChannelInvitationInput;e.setUsers(d);h.queryMsg("0",l.util.arrayFrom(e.toArrayBuffer()),a,{onSuccess:function(){},onError:function(){}});f.onSuccess(a)},onError:function(){f.onError(RongIMClient.callback.ErrorCode.setValue(0))}},"CreateDiscussionOutput")};this.addMemberToDiscussion=function(a,d,f){n(["string","array","object"]);var k=new Modules.ChannelInvitationInput;k.setUsers(d);h.queryMsg("0",l.util.arrayFrom(k.toArrayBuffer()),a,f)};this.getDiscussion=   function(a,d){n(["string","object"]);var f=new Modules.ChannelInfoInput;f.setNothing(1);h.queryMsg("4",l.util.arrayFrom(f.toArrayBuffer()),a,d,"ChannelInfoOutput")};this.quitDiscussion=function(a,d){n(["string","object"]);var f=new Modules.LeaveChannelInput;f.setNothing(1);h.queryMsg("7",l.util.arrayFrom(f.toArrayBuffer()),a,d)};this.quitGroup=function(a,d){n(["string","object"]);var f=new Modules.LeaveChannelInput;f.setNothing(1);h.queryMsg("8",l.util.arrayFrom(f.toArrayBuffer()),a,d)};this.joinGroup=   function(a,d,f){n(["string","string","object"]);var k=new Modules.GroupInfo;k.setId(a);k.setName(d);d=new Modules.GroupInput;d.setGroupInfo(k);h.queryMsg("6",l.util.arrayFrom(d.toArrayBuffer()),a,f,"GroupOutput")}};RongIMClient.connect=function(a,d){if(!RongIMClient.getInstance)throw Error("please init");window.Modules?RongIMClient.getInstance().connect(a,d):(RongIMClient.connect.token=a,RongIMClient.connect.callback=d)};RongIMClient.init=function(a){var d=new RongIMClient(a);RongIMClient.getInstance=   function(){return d};return d};RongIMClient.registerMessageType=function(a){if(!RongIMClient.getInstance)throw Error("unInitExpection");if("messageType"in a&&"objectName"in a&&"fieldName"in a){RongIMClient.registerMessageType.registerMessageTypePool.push(a.messageType);var d=RongIMClient[a.messageType]=function(d){RongIMClient.RongIMMessage.call(this,d);var r=this;RongIMClient.MessageType[a.messageType]=a.messageType;this.setMessageType(a.messageType);this.setObjectName(a.objectName);io.util.forEach(a.fieldName,   function(a){r["set"+a]=function(d){r.setContent(d,a)};r["get"+a]=function(){return r.getDetail()[a]}})};d.prototype=new RongIMClient.RongIMMessage;d.prototype.constructor=d}else throw Error("registerMessageType:Wrong paramters");};RongIMClient.registerMessageType.registerMessageTypePool=[];RongIMClient.setConnectionStatusListener=function(a){if(!RongIMClient.getInstance)throw Error("unInitExpection");RongIMClient.getInstance().setConnectionStatusListener(a)};RongIMClient.setOptions=function(a){RongIMClient.getInstance&&  RongIMClient.getInstance().setOptions(!!a)};RongIMClient.RongIMMessage=function(a){var d="unknow",l,r=a||{},s,x,y,h,n,w,B,e,p;this.getDetail=function(){return r};this.getMessageTag=function(){return["ISPERSISTED","ISCOUNTED","ISDISPLAYED"]};this.getContent=function(){return r.content};this.getConversationType=function(){return s};this.getExtra=function(){return r.extra};this.getMessageDirection=function(){return x};this.getMessageId=function(){return y};this.getObjectName=function(){return h};this.getReceivedStatus=   function(){return n};this.getReceivedTime=function(){return l};this.getSenderUserId=function(){return w};this.getSentStatus=function(){return B};this.getTargetId=function(){return p};this.setContent=function(a,d){r[d||"content"]=a};this.setConversationType=function(a){s=a};this.setExtra=function(a){r.extra=a};this.setMessageDirection=function(a){x=a};this.setMessageId=function(a){y=a};this.setObjectName=function(a){h=a};this.setReceivedStatus=function(a){n=a};this.setSenderUserId=function(a){w=a};   this.setSentStatus=function(a){return!!(B=a)};this.setSentTime=function(a){e=a};this.setTargetId=function(a){p=a};this.setReceivedTime=function(a){l=a};this.toJSONString=function(){var a={receivedtime:l||"",messagetype:d,details:r,conversationtype:s.getValue(),direction:x.getValue(),messageid:y,objectname:h,senderuserid:w,sendtime:e,targetid:p};return RongIMClient.getInstance().getIO().util.JSONStringify(a)};this.getMessageType=function(){return d};this.setMessageType=function(a){d=a}};RongIMClient.NotificationMessage=   function(a){RongIMClient.RongIMMessage.call(this,a);this.getMessageTag=function(){return["ISPERSISTED","ISDISPLAYED"]}};RongIMClient.NotificationMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.NotificationMessage.prototype.constructor=RongIMClient.NotificationMessage;RongIMClient.StatusMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.getMessageTag=function(){return["NONE"]}};RongIMClient.StatusMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.StatusMessage.prototype.constructor=   RongIMClient.StatusMessage;RongIMClient.Conversation=function(){var a=this,d=Date.now(),l,r,s,x,y,h,n,w,B,e,p,f,k,E=0,J=RongIMClient.ConversationNotificationStatus.NOTIFY;this.getConversationTitle=function(){return h};this.toJSONString=function(){var a={senderusername:y||"",lastTime:d,objectname:l||"",senderuserid:r||"",receivedtime:s||"",convertsationtitle:h||"",conversationtype:+n==n?n:n.getValue(),latestmessageid:e,senttime:f||"",targetid:k,notificationstatus:J.getValue()};return RongIMClient.getInstance().getIO().util.JSONStringify(a)};   this.setReceivedStatus=function(a){x=a};this.getReceivedStatus=function(){return x};this.getConversationType=function(){return n};this.getDraft=function(){return w};this.getLatestMessage=function(){return B};this.getLatestMessageId=function(){return e};this.getNotificationStatus=function(){return J};this.getObjectName=function(){return l};this.getReceivedTime=function(){return s};this.getSenderUserId=function(){return r};this.getSenderUserName=function(){return y};this.getSentStatus=function(){return p};   this.getSentTime=function(){return f};this.getTargetId=function(){return k};this.getUnreadMessageCount=function(){return E};this.isTop=function(){return RongIMClient.getInstance().getConversationList()[0]==this};this.setConversationTitle=function(a){h=a};this.setConversationType=function(a){n=a};this.setDraft=function(a){w=a};this.setSenderUserName=function(a){y=a};this.setLatestMessage=function(a){B=a};this.setLatestMessageId=function(a){e=a};this.setNotificationStatus=function(a){J=a};this.setObjectName=    function(a){l=a};this.setReceivedTime=function(a){d=s=a};this.setSenderUserId=function(a){r=a};this.getLatestTime=function(){return d};this.setSentStatus=function(a){return!!(p=a)};this.setSentTime=function(a){d=f=a};this.setTargetId=function(a){k=a};this.setTop=function(){if(a.getTargetId()){var d=RongIMClient.getInstance().getConversationList(),e=-1,f=RongIMClient.getInstance().getIO().util.filter(d,function(d,f){return d.getTargetId()==a.getTargetId()?(e=f,!0):!1})[0]||this;0!=e&&(0<e?f=d.splice(e,    1)[0]:void 0,d.unshift(f));RongIMClient.getInstance().removeConversationListCache()}};this.setUnreadMessageCount=function(a){E=a}};RongIMClient.Discussion=function(a,d,l,r,s){var x=a,y=d,h=l,n=r,w=s;this.getCreatorId=function(){return h};this.getid=function(){return x};this.getMemerIdList=function(){return w};this.getName=function(){return y};this.isOpen=function(){return n};this.setCreatorId=function(a){h=a};this.setId=function(a){x=a};this.setMemberIdList=function(a){w=a};this.setName=function(a){y=   a};this.setopen=function(a){n=!!a}};RongIMClient.Group=function(a,d,l){var r=a,s=d,x=l;this.getId=function(){return r};this.getName=function(){return s};this.getportraituri=function(){return x};this.setId=function(a){r=a};this.setName=function(a){s=a};this.setPortraitUri=function(a){x=a}};RongIMClient.TextMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.TextMessage);this.setObjectName("RC:TxtMsg")};RongIMClient.TextMessage.obtain=function(a){return new RongIMClient.TextMessage({content:a,   extra:""})};RongIMClient.TextMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.TextMessage.prototype.constructor=RongIMClient.TextMessage;RongIMClient.ImageMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.ImageMessage);this.setObjectName("RC:ImgMsg");this.setImageUri=function(a){this.setContent(a,"imageUri")};this.getsetImageUri=function(){return this.getDetail().imageUri}};RongIMClient.ImageMessage.obtain=function(a,d){return new RongIMClient.ImageMessage({content:a,   imageUri:d,extra:""})};RongIMClient.ImageMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.ImageMessage.prototype.constructor=RongIMClient.ImageMessage;RongIMClient.RichContentMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.RichContentMessage);this.setObjectName("RC:ImgTextMsg");this.setTitle=function(a){this.setContent(a,"title")};this.getTitle=function(){return this.getDetail().title};this.setImageUri=function(a){this.setContent(a,   "imageUri")};this.getImageUri=function(){return this.getDetail().imageUri}};RongIMClient.RichContentMessage.obtain=function(a,d,l){return new RongIMClient.RichContentMessage({title:a,content:d,imageUri:l,extra:""})};RongIMClient.RichContentMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.RichContentMessage.prototype.constructor=RongIMClient.RichContentMessage;RongIMClient.VoiceMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setObjectName("RC:VcMsg");this.setMessageType(RongIMClient.MessageType.VoiceMessage);   this.setDuration=function(a){this.setContent(a,"duration")};this.getDuration=function(){return this.getDetail().duration}};RongIMClient.VoiceMessage.obtain=function(a,d){return new RongIMClient.VoiceMessage({content:a,duration:d,extra:""})};RongIMClient.VoiceMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.VoiceMessage.prototype.constructor=RongIMClient.VoiceMessage;RongIMClient.HandshakeMessage=function(){RongIMClient.RongIMMessage.call(this);this.setMessageType(RongIMClient.MessageType.HandshakeMessage);   this.setObjectName("RC:HsMsg")};RongIMClient.HandshakeMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.HandshakeMessage.prototype.constructor=RongIMClient.HandshakeMessage;RongIMClient.SuspendMessage=function(){RongIMClient.RongIMMessage.call(this);this.setMessageType(RongIMClient.MessageType.SuspendMessage);this.setObjectName("RC:SpMsg")};RongIMClient.SuspendMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.SuspendMessage.prototype.constructor=RongIMClient.SuspendMessage;   RongIMClient.UnknownMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.UnknownMessage);this.setObjectName("unknown")};RongIMClient.UnknownMessage.prototype=new RongIMClient.RongIMMessage;RongIMClient.UnknownMessage.prototype.constructor=RongIMClient.UnknownMessage;RongIMClient.LocationMessage=function(a){RongIMClient.RongIMMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.LocationMessage);this.setObjectName("RC:LBSMsg");this.setLatitude=    function(a){this.setContent(a,"latitude")};this.getLatitude=function(){return this.getDetail().latitude};this.setLongitude=function(a){this.setContent(a,"longitude")};this.getLongitude=function(){return this.getDetail().longitude};this.setPoi=function(a){this.setContent(a,"poi")};this.getPoi=function(){return this.getDetail().poi}};RongIMClient.LocationMessage.obtain=function(a,d,l,r){return new RongIMClient.LocationMessage({content:a,latitude:d,longitude:l,poi:r,extra:""})};RongIMClient.LocationMessage.prototype=    new RongIMClient.RongIMMessage;RongIMClient.LocationMessage.prototype.constructor=RongIMClient.LocationMessage;RongIMClient.InformationNotificationMessage=function(a){RongIMClient.NotificationMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.InformationNotificationMessage);this.setObjectName("RC:InfoNtf")};RongIMClient.InformationNotificationMessage.obtain=function(a){return new RongIMClient.InformationNotificationMessage({content:a,extra:""})};RongIMClient.InformationNotificationMessage.prototype=    new RongIMClient.NotificationMessage;RongIMClient.InformationNotificationMessage.prototype.constructor=RongIMClient.InformationNotificationMessage;RongIMClient.ContactNotificationMessage=function(a){RongIMClient.NotificationMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.ContactNotificationMessage);this.setObjectName("RC:ContactNtf");this.getOperation=function(){return this.getDetail().operation};this.setOperation=function(a){this.setContent(a,"operation")};this.setMessage=function(a){this.setContent(a,    "message")};this.getMessage=function(){return this.getDetail().message};this.getSourceUserId=function(){return this.getDetail().sourceUserId};this.setSourceUserId=function(a){this.setContent(a,"sourceUserId")};this.getTargetUserId=function(){return this.getDetail().targetUserId};this.setTargetUserId=function(a){this.setContent(a,"targetUserId")}};RongIMClient.ContactNotificationMessage.obtain=function(a,d,l,r){return new RongIMClient.ContactNotificationMessage({operation:a,sourceUserId:d,targetUserId:l,    message:r,extra:""})};RongIMClient.ContactNotificationMessage.CONTACT_OPERATION_ACCEPT_RESPONSE="CONTACT_OPERATION_ACCEPT_RESPONSE";RongIMClient.ContactNotificationMessage.CONTACT_OPERATION_REJECT_RESPONSE="CONTACT_OPERATION_REJECT_RESPONSE";RongIMClient.ContactNotificationMessage.CONTACT_OPERATION_ACCEPT_RESPONSE="CONTACT_OPERATION_REQUEST";RongIMClient.ContactNotificationMessage.prototype=new RongIMClient.NotificationMessage;RongIMClient.ContactNotificationMessage.prototype.constructor=RongIMClient.ContactNotificationMessage;   RongIMClient.ProfileNotificationMessage=function(a){RongIMClient.NotificationMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.ProfileNotificationMessage);this.setObjectName("RC:ProfileNtf");this.getOperation=function(){return this.getDetail().operation};this.setOperation=function(a){this.setContent(a,"operation")};this.getData=function(){return this.getDetail().data};this.setDate=function(a){this.setContent(a,"data")}};RongIMClient.ProfileNotificationMessage.obtain=function(a,d){return new RongIMClient.ProfileNotificationMessage({operation:a,    data:d,extra:""})};RongIMClient.ProfileNotificationMessage.prototype=new RongIMClient.NotificationMessage;RongIMClient.ProfileNotificationMessage.prototype.constructor=RongIMClient.ProfileNotificationMessage;RongIMClient.CommandNotificationMessage=function(a){RongIMClient.NotificationMessage.call(this,a);this.setMessageType(RongIMClient.MessageType.CommandNotificationMessage);this.setObjectName("RC:CmdNtf");this.getData=function(){return this.getDetail()};this.setDate=function(a){this.setContent(a)};    this.getName=function(){return this.getDetail().name};this.setName=function(a){this.setContent(a,"name")}};RongIMClient.CommandNotificationMessage.obtain=function(a,d){return new RongIMClient.CommandNotificationMessage({name:a,data:d,extra:""})};RongIMClient.CommandNotificationMessage.prototype=new RongIMClient.NotificationMessage;RongIMClient.CommandNotificationMessage.prototype.constructor=RongIMClient.CommandNotificationMessage;RongIMClient.MessageContent=function(a){this.getMessage=function(){return a};    this.encode=function(){var d=a.getObjectName(),l=a.getDetail(),r=new Modules.UpStreamMessage;r.setSessionId(0);r.setClassname(d);r.setContent(RongIMClient.getInstance().getIO().util.JSONStringify(l));return RongIMClient.getInstance().getIO().util.arrayFrom(r.toArrayBuffer())}};RongIMClient.MessageHandler=function(a){if("function"==typeof a)this.proces=a;else throw Error("MessageHandler:Wrong parameter.");};RongIMClient.Options=function(){var a=!1;this.isEnableDebug=function(){return a};this.setEnableDebug=    function(d){a=!!d}};RongIMClient.ReceivedStatus=function(a){var d=a||0;this.getFlag=function(){return d};this.isDownload=function(){return 1==d};this.isListened=function(){return 2==d};this.isRead=function(){return 3==d};this.setDownload=function(){d=1};this.setListened=function(){d=2};this.setRead=function(){d=3}};RongIMClient.UserInfo=function(a,d,l){var r=a,s=d,x=l;this.getUserName=function(){return s};this.getPortraituri=function(){return x};this.getUserId=function(){return r};this.setUserName=    function(a){s=a};this.setPortraitUri=function(a){x=a};this.setUserId=function(a){r=a}};RongIMClient.MessageTag={ISPERSISTED:"ISPERSISTED",ISCOUNTED:"ISCOUNTED",NONE:"NONE"};RongIMClient.ConversationNotificationStatus={DO_NOT_DISTURB:{getValue:function(){return 0}},NOTIFY:{getValue:function(){return 1}}};RongIMClient.ConversationNotificationStatus.setValue=function(a){return{getValue:function(){return a}}};RongIMClient.ConversationType={CHATROOM:{getValue:function(){return 0}},CUSTOMER_SERVICE:{getValue:function(){return 1}},    DISCUSSION:{getValue:function(){return 2}},GROUP:{getValue:function(){return 3}},PRIVATE:{getValue:function(){return 4}},SYSTEM:{getValue:function(){return 5}}};RongIMClient.ConversationType.setValue=function(a){return{getValue:function(){return a}}};RongIMClient.SentStatus={DESTROYED:{getValue:function(){return 0}},FAILED:{getValue:function(){return 1}},READ:{getValue:function(){return 2}},RECEIVED:{getValue:function(){return 3}},SENDING:{getValue:function(){return 4}},SENT:{getValue:function(){return 5}}};   RongIMClient.DiscussionInviteStatus={CLOSED:{getValue:function(){return 0}},OPENED:{getValue:function(){return 1}}};RongIMClient.DiscussionInviteStatus.setValue=function(a){return{getValue:function(){return a}}};RongIMClient.MediaType={AUDIO:{getValue:function(){return 0}},FILE:{getValue:function(){return 1}},IMAGE:{getValue:function(){return 2}},VIDEO:{getValue:function(){return 3}}};RongIMClient.MessageDirection={RECEIVE:{getValue:function(){return 0}},SEND:{getValue:function(){return 1}}};RongIMClient.MessageDirection.setValue=    function(a){return{getValue:function(){return a}}};RongIMClient.MessageType={TextMessage:"txt",ImageMessage:"img",VoiceMessage:"voice",RichContentMessage:"txtimg",HandshakeMessage:"handshake",UnknownMessage:"unknown",SuspendMessage:"suspend",LocationMessage:"location",InformationNotificationMessage:"information",ContactNotificationMessage:"contact",ProfileNotificationMessage:"profile",CommandNotificationMessage:"command"};RongIMClient.callback=function(a,d){this.onError=d;this.onSuccess=a};RongIMClient.callback.ErrorCode=    function(a){var d=a||0,l="zh-CN"==navigator.language?["\u670d\u52a1\u5668\u8d85\u65f6","\u672a\u77e5\u9519\u8bef"]:["TIMEOUT","UNKNOW ERROR"];this.TIMEOUT=0;this.UNKNOW=1;this.getMessage=function(){return l[d]};this.getValue=function(){return d}};RongIMClient.callback.ErrorCode.setValue=function(a){return new RongIMClient.callback.ErrorCode(a)};RongIMClient.ConnectCallback=function(){RongIMClient.callback.apply(this,arguments)};RongIMClient.ConnectCallback.ErrorCode=function(a){var d=0,l="zh-CN"==    navigator.language?"\u63a5\u53d7 \u4e0d\u53ef\u7528\u7684\u534f\u8bae\u7248\u672c \u6807\u8bc6\u7b26\u88ab\u62d2\u7edd \u670d\u52a1\u5668\u4e0d\u53ef\u7528 \u9519\u8bef\u7684\u8d26\u53f7\u548c\u5bc6\u7801 \u6ca1\u6709\u9a8c\u8bc1\u7528\u6237 \u91cd\u5b9a\u5411".split(" "):"ACCPTED UNACCEPTABLE_PROTOCOL_VERSION IDENTIFIER_REJECTED SERVER_UNAVAILABLE BAD_USEERNAME_OR_PASSWORD NOT_AUTHORIZED REDIRECT".split(" "),d=a;this.ACCPTED=0;this.UNACCEPTABLE_PROTOCOL_VERSION=1;this.IDENTIFIER_REJECTED=2;this.SERVER_UNAVAILABLE=    3;this.BAD_USEERNAME_OR_PASSWORD=4;this.NOT_AUTHORIZED=5;this.REDIRECT=6;this.getValue=function(){return d};this.getMessage=function(){return l[d]}};RongIMClient.ConnectCallback.ErrorCode.setValue=function(a){return new RongIMClient.ConnectCallback.ErrorCode(a)};RongIMClient.ConnectCallback.prototype=new RongIMClient.callback;RongIMClient.ConnectCallback.prototype.constructor=RongIMClient.ConnectCallback;RongIMClient.ConnectionStatusListener=function(a){return{onChanged:a}};RongIMClient.ConnectionStatusListener.ConnectionStatus=    function(a){var d=a||0,l="zh-CN"==navigator.language?"\u8fde\u63a5\u6210\u529f \u8fde\u63a5\u4e2d \u672a\u77e5\u9519\u8bef \u91cd\u8fde \u5f53\u524d\u5e10\u53f7\u5df2\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55 \u5df2\u5173\u95ed".split(" "):"CONNECTED;CONNECTING;UNKNOW ERROR;RECONNECT;OTHER_DEVICE_LOGIN;CLOSED".split(";");this.CONNECTED=0;this.CONNECTING=1;this.UNKNOW=2;this.RECONNECT=3;this.OTHER_DEVICE_LOGIN=4;this.CLOSED=5;this.getMessage=function(){return l[d]};this.getValue=function(){return d}};   RongIMClient.ConnectionStatusListener.ConnectionStatus.setValue=function(a){return new RongIMClient.ConnectionStatusListener.ConnectionStatus(a)};RongIMClient.OnReceiveMessageListener=function(a){return{onReceived:a}}})(window);